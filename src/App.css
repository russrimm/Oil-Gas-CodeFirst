#root {
  width: 100%;
  max-width: none;
  margin: 0;
  padding: 0;
  text-align: initial;
}

.logo {
  height: 6em;
  padding: 1.5em;
  will-change: filter;
  transition: filter 300ms;
}
.logo:hover {
  filter: drop-shadow(0 0 2em #646cffaa);
}
.logo.react:hover {
  filter: drop-shadow(0 0 2em #61dafbaa);
}

@keyframes logo-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@media (prefers-reduced-motion: no-preference) {
  a:nth-of-type(2) .logo {
    animation: logo-spin infinite 20s linear;
  }
}

.card {
  padding: 2em;
}

.read-the-docs {
  color: #888;
}

/* Support Portal Styles */
.portal-layout {
  --bg: #0f1115;
  --panel: #1b1f24;
  --panel-alt: #242a31;
  --border: #2e3742;
  --accent: #3b82f6;
  --accent-glow: #60a5fa;
  --danger: #ef4444;
  --warning: #f59e0b;
  --success: #10b981;
  display: flex;
  flex-direction: column;
  height: 100vh;
  background: linear-gradient(145deg,#0d1117,#111b27);
  color: #e5e7eb;
  font-family: system-ui, Segoe UI, Arial, sans-serif;
}

.portal-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0.75rem 1.25rem;
  border-bottom: 1px solid var(--border);
  background: rgba(27,31,36,0.9);
  -webkit-backdrop-filter: blur(6px);
  backdrop-filter: blur(6px);
}
.portal-header h1 { font-size: 1.1rem; margin: 0; letter-spacing: .5px; }
.portal-header .header-actions { display:flex; align-items:center; gap:.85rem; }
.hdr-btn { position:relative; display:inline-flex; align-items:center; gap:.45rem; font-size:.7rem; font-weight:600; letter-spacing:.5px; padding:.55rem 1rem; border-radius:8px; border:1px solid transparent; cursor:pointer; background:linear-gradient(135deg,var(--accent) 0%,var(--accent-glow) 100%); color:#fff; box-shadow:0 2px 4px -1px rgba(0,0,0,.4), 0 0 0 1px rgba(255,255,255,0.04) inset; transition:background .25s, box-shadow .25s, transform .25s, border-color .25s; }
.hdr-btn.ghost { background:rgba(60,80,100,0.25); border-color:rgba(120,150,190,0.25); box-shadow:0 1px 2px rgba(0,0,0,.35) inset,0 0 0 1px rgba(255,255,255,0.04); }
.hdr-btn.ghost:hover { background:rgba(70,100,140,0.32); }
.hdr-btn:hover { background:linear-gradient(135deg,var(--accent-glow) 0%,var(--accent) 100%); box-shadow:0 4px 10px -3px rgba(0,0,0,.55), 0 0 0 1px rgba(255,255,255,0.05) inset; }
.hdr-btn:active { transform:translateY(1px); box-shadow:0 2px 6px -2px rgba(0,0,0,.55) inset; }
.hdr-btn:focus-visible { outline:2px solid var(--accent-glow); outline-offset:2px; }
.portal-layout[data-theme='light'] .hdr-btn.ghost { background:rgba(160,180,200,0.25); border-color:rgba(140,170,210,0.35); }
.portal-layout[data-theme='light'] .hdr-btn.ghost:hover { background:rgba(170,195,220,0.45); }
.portal-layout[data-theme='light'] .hdr-btn { box-shadow:0 2px 4px -1px rgba(0,0,0,.15); }

.portal-body { flex:1; display:flex; min-height:0; }
.tickets-pane { width: 260px; border-right:1px solid var(--border); background: var(--panel); overflow-y:auto; }
.details-pane { flex:1; background: var(--panel-alt); padding:1rem 1.25rem; overflow-y:auto; }

.ticket-list { list-style:none; margin:0; padding:.5rem; display:flex; flex-direction:column; gap:.4rem; }
.ticket-list li { margin:0; }
.ticket-row { width:100%; display:flex; gap:.5rem; align-items:center; background:transparent; border:1px solid transparent; color:inherit; padding:.55rem .6rem; border-radius:6px; cursor:pointer; text-align:left; position:relative; }
.ticket-row:hover { background:#222a33; border-color:#2c3742; }
.ticket-list li.active .ticket-row { background:#263244; border-color:#3b82f6; }
.ticket-row .subject { flex:1; font-size:.83rem; font-weight:500; }
.ticket-row .meta { font-size:.65rem; text-transform:uppercase; letter-spacing:.5px; opacity:.7; }
.status-dot { width:.65rem; height:.65rem; border-radius:50%; background:#6b7280; box-shadow:0 0 0 1px #000 inset; }
.status-dot.open { background: var(--danger); }
.status-dot.in-progress { background: var(--warning); }
.status-dot.resolved { background: var(--success); }

.ticket-detail h2 { margin:0 0 .25rem; font-size:1.15rem; }
.detail-header { display:flex; flex-wrap:wrap; gap:1rem; align-items:center; justify-content:space-between; }
.field-group { display:flex; flex-direction:column; gap:.25rem; font-size:.75rem; }
.field-group label { font-size:.65rem; text-transform:uppercase; opacity:.7; letter-spacing:.5px; }
select, input, textarea { background:#1e252c; border:1px solid #303b46; color:#e5e7eb; border-radius:4px; padding:.45rem .55rem; font-size:.8rem; font-family:inherit; }
select:focus, input:focus, textarea:focus { outline:2px solid var(--accent); outline-offset:1px; }
textarea { resize:vertical; }
.properties { display:grid; grid-template-columns:repeat(auto-fit,minmax(140px,1fr)); gap:.4rem .75rem; margin: .75rem 0 1rem; font-size:.7rem; }
.properties > div { background:#1f252c; padding:.4rem .55rem; border:1px solid #2d3742; border-radius:4px; }
.description h3 { margin:.5rem 0 .3rem; font-size:.85rem; letter-spacing:.5px; }
.description p { font-size:.8rem; line-height:1.3; }

.new-ticket-form { max-width:640px; display:flex; flex-direction:column; gap:.85rem; }
.field-row { display:flex; gap:.75rem; }
.form-actions { display:flex; gap:.5rem; }
.form-actions button { background:var(--accent); color:#fff; border:none; padding:.55rem .9rem; border-radius:4px; cursor:pointer; font-size:.8rem; }
.form-actions button.subtle { background:#374151; }
.form-actions button.subtle:hover { background:#4b5563; }
.form-actions button:hover { background:var(--accent-glow); }

.empty { opacity:.6; font-size:.85rem; }
.portal-footer { padding:.4rem .75rem; font-size:.65rem; text-align:right; border-top:1px solid var(--border); background:#1b1f24; opacity:.7; }

@media (max-width: 800px) {
  .tickets-pane { width:200px; }
  .detail-header { flex-direction:column; align-items:flex-start; }
  .field-row { flex-direction:column; }
}

/* ===== Enhancements: full-height grid layout, theme toggle, responsive sidebar ===== */
html, body, #root { height:100%; }
.portal-body { display:grid; grid-template-columns:260px 1fr; }
.portal-header .left-header { display:flex; align-items:center; gap:.75rem; }
.sidebar-toggle { display:none; font-size:1.05rem; line-height:1; }
.theme-toggle { background:#374151; }
.theme-toggle:hover { background:#4b5563; }

@media (max-width: 800px) {
  .portal-body { grid-template-columns:1fr; }
  .tickets-pane { position:absolute; inset:0 auto 0 0; width:240px; transform:translateX(-100%); transition:transform .25s ease; z-index:30; box-shadow:4px 0 12px -4px rgba(0,0,0,.4); }
  .tickets-pane.open { transform:translateX(0); }
  .backdrop { position:absolute; inset:0; background:rgba(0,0,0,.45); -webkit-backdrop-filter:blur(2px); backdrop-filter:blur(2px); z-index:20; }
  .sidebar-toggle { display:inline-flex; align-items:center; justify-content:center; background:#263244; width:2.1rem; height:2.1rem; border-radius:6px; }
  .sidebar-toggle:hover { background:#314155; }
}

/* Light theme overrides */
.portal-layout[data-theme='light'] {
  --bg: #f4f6f8;
  --panel: #ffffff;
  --panel-alt: #f1f5f9;
  --border: #d9e2ec;
  --accent: #2563eb;
  --accent-glow: #3b82f6;
  --danger: #dc2626;
  --warning: #d97706;
  --success: #059669;
  color:#1f2937;
  background: linear-gradient(145deg,#e2e8f0,#f8fafc);
}
.portal-layout[data-theme='light'] .ticket-row:hover { background:#eef2f6; border-color:#cbd5e1; }
.portal-layout[data-theme='light'] .ticket-list li.active .ticket-row { background:#e0ecff; border-color:#3b82f6; }
.portal-layout[data-theme='light'] .properties > div { background:#ffffff; border-color:#d9e2ec; }
.portal-layout[data-theme='light'] .details-pane { background: var(--panel-alt); }
.portal-layout[data-theme='light'] select, .portal-layout[data-theme='light'] input, .portal-layout[data-theme='light'] textarea { background:#ffffff; border-color:#cbd5e1; color:#1f2937; }
.portal-layout[data-theme='light'] .portal-header { background: rgba(255,255,255,0.9); }
.portal-layout[data-theme='light'] .portal-footer { background:#ffffff; }

/* 3D dashboard embedding */
.three-embed-container { height:420px; margin-bottom:1rem; border:1px solid var(--border); border-radius:10px; overflow:hidden; position:relative; background:#0e1520; }
@media (max-width: 800px) { .three-embed-container { height:320px; } }
.three-dashboard { width:100%; height:100%; }
.three-dashboard { position:relative; font-family: system-ui, Segoe UI, Arial, sans-serif; }
.three-overlay { position:absolute; inset:0; pointer-events:none; font-size:11px; color:#e3edf7; mix-blend-mode:screen; }
.three-label { position:absolute; transform:translate(-50%, -50%); padding:2px 6px; background:rgba(15,35,53,0.55); border:1px solid rgba(120,180,230,0.35); border-radius:4px; -webkit-backdrop-filter:blur(4px); backdrop-filter:blur(4px); white-space:nowrap; font-weight:500; letter-spacing:.5px; }
.portal-layout[data-theme='light'] .three-label { background:rgba(230,240,250,0.65); color:#0d2533; border-color:rgba(40,90,130,0.4); mix-blend-mode:normal; }

/* Learning Portal adaptations */
.concept-scroll { overflow-y:auto; max-height:calc(100dvh - 180px); }
.concept-item .concept-button { width:100%; text-align:left; }
.concept-summary { opacity:.7; font-size:.65rem; }
.concept-button .purpose-label { text-transform:uppercase; font-size:.6rem; letter-spacing:.75px; margin-right:4px; color:var(--accent-glow); opacity:.95; }
.concept-button .meta-line { font-size:.72rem; opacity:.85; display:flex; align-items:center; gap:.25rem; line-height:1.15; }
.purpose-label-inline { text-transform:uppercase; font-size:.6rem; letter-spacing:.75px; margin-right:6px; color:var(--warning); filter:drop-shadow(0 0 2px rgba(255,160,40,0.3)); }
.status-badge { background:linear-gradient(135deg,#2d3b47,#1e262e); padding:.3rem .55rem; border-radius:6px; font-size:.65rem; letter-spacing:.7px; display:inline-flex; align-items:center; gap:.35rem; font-weight:600; }
.portal-layout[data-theme='light'] .status-badge { background:linear-gradient(135deg,#e2e8f0,#d0d9e2); }
.learning-panel-wrapper { position:relative; }
.concept-detail { display:flex; flex-direction:column; gap:.75rem; }
.concept-title { margin:0; }
.concept-summary-text { margin:0; font-size:.85rem; opacity:.8; }
.concept-details-text { line-height:1.4; margin:0; }
.concept-hint { font-size:.65rem; opacity:.55; }
.quiz-mode .quiz-intro { margin:0; font-size:.8rem; opacity:.75; }
.quiz-clue-list { margin:0 0 .5rem 1.1rem; font-size:.8rem; line-height:1.35; }
.quiz-actions { display:flex; gap:.5rem; flex-wrap:wrap; }
.quiz-reveal { margin-top:.75rem; border-top:1px solid var(--border); padding-top:.6rem; font-size:.75rem; line-height:1.35; }

/* Metrics & Legend */
.metrics-legend-grid { display:grid; gap:.9rem; grid-template-columns:repeat(auto-fit,minmax(240px,1fr)); margin-top:1rem; }
.metric-block, .legend-block { background: #1f262d; border:1px solid var(--border); border-radius:8px; padding:.75rem .85rem; display:flex; flex-direction:column; gap:.45rem; position:relative; }
.portal-layout[data-theme='light'] .metric-block, .portal-layout[data-theme='light'] .legend-block { background:#ffffff; }
.metric-block:before { content:"LIVE"; position:absolute; top:.45rem; right:.55rem; font-size:.55rem; letter-spacing:.8px; background:#dc2626; color:#fff; padding:2px 6px; border-radius:3px; font-weight:600; box-shadow:0 0 0 1px rgba(0,0,0,.35); }
.metric-row { display:flex; justify-content:space-between; font-size:.7rem; line-height:1.2; }
.metric-row span { opacity:.7; }
.metric-row strong { font-weight:600; font-variant-numeric:tabular-nums; }
.metric-focus { margin-top:.3rem; font-size:.65rem; opacity:.7; }
.legend-title { font-size:.7rem; text-transform:uppercase; letter-spacing:.8px; opacity:.75; font-weight:600; }
.legend-list { list-style:none; padding:0; margin:.2rem 0 0; display:flex; flex-direction:column; gap:.35rem; font-size:.7rem; }
.legend-list li { display:flex; align-items:center; gap:.5rem; }
.swatch { width:16px; height:10px; border-radius:2px; box-shadow:0 0 0 1px rgba(0,0,0,.6) inset; position:relative; }
.swatch.oil { background:#3d82b6; }
.swatch.gas { background:#2d9664; }
.swatch.water { background:#8a582d; }
.swatch.flare { background:#ff7a1a; }
.swatch.highlight { background:#1d86d5; }

/* Three.js mini legend & tooltip */
.three-mini-legend { position:absolute; top:6px; left:6px; background:rgba(15,25,35,0.65); border:1px solid rgba(90,140,190,0.35); border-radius:6px; padding:4px 8px 6px; font-size:10px; line-height:1.2; font-weight:500; letter-spacing:.4px; -webkit-backdrop-filter:blur(4px); backdrop-filter:blur(4px); }
.three-mini-legend .ttl { text-transform:uppercase; font-size:9px; opacity:.8; margin-bottom:2px; }
.three-mini-legend ul { margin:0; padding:0; list-style:none; display:flex; flex-direction:column; gap:2px; }
.three-mini-legend li { display:flex; align-items:center; gap:6px; }
.three-mini-legend .sw { width:14px; height:8px; border-radius:2px; box-shadow:0 0 0 1px rgba(0,0,0,.6) inset; }
.three-mini-legend .sw.oil { background:#3d82b6; }
.three-mini-legend .sw.gas { background:#2d9664; }
.three-mini-legend .sw.wat { background:#8a582d; }
.three-mini-legend .sw.flr { background:#ff7a1a; }
.three-mini-legend .sw.hl { background:#1d86d5; }
.pipeline-tooltip { position:absolute; pointer-events:none; font-size:10px; background:rgba(20,40,60,0.75); border:1px solid rgba(120,180,230,0.4); padding:4px 6px; border-radius:4px; color:#d9eefc; -webkit-backdrop-filter:blur(4px); backdrop-filter:blur(4px); font-weight:500; line-height:1.15; }
.portal-layout[data-theme='light'] .pipeline-tooltip { background:rgba(240,248,255,0.85); color:#0d2533; border-color:rgba(60,120,160,0.4); }

/* Metric actions & snapshot */
.metric-actions { display:flex; gap:.5rem; margin-top:.4rem; flex-wrap:wrap; }
.metric-actions button { background:var(--accent); color:#fff; border:none; padding:.35rem .65rem; border-radius:4px; font-size:.65rem; cursor:pointer; }
.metric-actions button:hover { background:var(--accent-glow); }
.metric-actions a { font-size:.65rem; text-decoration:none; background:#374151; padding:.35rem .55rem; border-radius:4px; color:#e5e7eb; }
.portal-layout[data-theme='light'] .metric-actions a { background:#e2e8f0; color:#1f2937; }
.metric-actions a:hover { filter:brightness(1.1); }

/* Brightness control */
.brightness-wrapper { display:flex; flex-direction:column; gap:.75rem; }
.brightness-row { display:flex; align-items:center; gap:.5rem; font-size:.7rem; }
.brightness-row label { font-weight:600; }
.brightness-row span { opacity:.7; }
